/**
 * Report Content Database
 * Contains category-specific messages and resources for each health level
 * Extracted from BHC Assessment Reporting PDF
 */

export const REPORT_CONTENT = {
  foundationalStructure: {
    healthy: {
      label: "Healthy",
      message: "Congratulations! You have obviously put in the time and effort to ensure that you have built an infrastructure for growth within your business. These early foundational steps are critical for maneuvering obstacles that could interfere in reaching your ultimate goal. Staying abreast of technology and economic changes, which could affect your business, will only guarantee that you remain focused on your end game.",
      resources: [
        {
          title: "Vision 20/20 Radio Podcast",
          description: "Subscribe to MarketAtomy's 'Vision 20/20' Radio Podcast to remain abreast of changes in your industry and receive helpful tips designed to assist with future growth",
          type: "podcast",
        },
      ],
    },
    unhealthy: {
      label: "Needs Attention",
      message: "The foundational/organizational structure you have put in place for your business appears to have gaps which could very well cause issues moving forward. You may find yourself unclear or confused on how to manage all the roles you've been handling, or why you're working harder than ever. Perhaps your bottom line is diminishing faster than the revenue coming in…or you're having trouble attracting qualified prospects or those who do buy from you don't return to buy again. Building a healthy infrastructure for growth involves understanding how all of the different business components work together cohesively toward a common goal…converting prospects to customers and customers to advocates. Our Assessment Strategists are skilled in helping to pinpoint critical gaps and building a sequencing plan designed to guide you through the maze of build a business positioned for growth.",
      resources: [
        {
          title: "Vision Clarification Video Series",
          description: "Register for MarketAtomy's 5 stage Vision Clarification informational video series 'How to Become a Customer Magnet'",
          type: "video",
        },
        {
          title: "Side Hustle Guide",
          description: "Download MarketAtomy's Report 'Put The Bustle In Your Side Hustle: Five Step Guide on how to turn your SIDE-Hustle into you MAIN-Hustle'",
          type: "download",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall business infrastructure",
          type: "session",
        },
      ],
    },
    needsTweaking: {
      label: "Needs Tweaking",
      message: "You're doing Great! Although your business appears to have a structured foundation that needs a little update. There may be a few gaps left unattended that could throw a monkey-wrench into your growth plan. Areas in your organizational structure may not be as well defined and may actually compromise what you think you have a handle on. Meeting with an assessment strategist will help to identify any issues and work with you to develop a strategy for updating your infrastructure and closing these gaps.",
      resources: [
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to further explore how to strengthen your overall business infrastructure",
          type: "session",
        },
      ],
    },
  },
  financialPosition: {
    healthy: {
      label: "Healthy",
      message: "Congratulations! It appears that you have a good handle on all of the components that contribute to a healthy financial infrastructure for your business. It may be time to think about the next stage of your business. Do you have a new product or service you're ready to introduce to the market? Perhaps you are thinking about expanding geographically or merging/partnering with another firm to expand your market. Equity investment might be the next logical step in your growth journey. Our team of financial experts is available to assist with helping you prepare for the next stage in your business.",
      resources: [
        {
          title: "Financial Expert Consultation",
          description: "Schedule an appointment with one of our financial experts to explore the options and process for equity investment",
          type: "session",
        },
        {
          title: "Cash-Flow Mentoring Program",
          description: "Take advantage of our cash-flow mentoring/training program",
          type: "program",
        },
        {
          title: "Business Funding Resource Guide",
          description: "Download our FREE eBook 'Business Funding Resource Guide'",
          type: "download",
        },
      ],
    },
    unhealthy: {
      label: "Needs Attention",
      message: "Oh No…You're probably stressed and overwhelmed chasing whatever cash outlets you can tap into immediately to keep you afloat for the next week or two. Your revenues have been non-existent or sluggish. You've exhausted your personal cash reservoirs and you're tapped out. Don't fret! You have options. No matter what your credit situation is currently there are positive measures you can take to begin to turn things around. A healthy financial position is critical to business growth. Many new business owners jump into action spending in areas without a clear financial strategy in place.",
      resources: [
        {
          title: "Credit 101 eBook",
          description: "Download our FREE eBook 'Credit 101'",
          type: "download",
        },
        {
          title: "FREE Discovery Session",
          description: "Reach out to schedule a FREE discovery session",
          type: "session",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall financial infrastructure",
          type: "session",
        },
      ],
    },
    needsTweaking: {
      label: "Needs Tweaking",
      message: "It appears that although you've got a fairly good handle on your financial position, ready cash flow seems to be holding you back from moving forward in the growth process. Don't worry, this is a common issue faced by all small businesses early on in the growth process. Cash flow is critical to being able to hire the resources needed to expand and grow. It's tiresome to have to wear all of the hats! It's time to take a step back and start working ON your business, letting a team of experts assisting as needed so that you can concentrate on what you do best.",
      resources: [
        {
          title: "Credit 101 eBook",
          description: "Download our FREE eBook 'Credit 101'",
          type: "download",
        },
        {
          title: "Cashflow is King eBook",
          description: "Download our FREE eBook 'Cashflow is King'",
          type: "download",
        },
        {
          title: "FREE Discovery Session",
          description: "Reach out to schedule a FREE discovery session",
          type: "session",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall Financial infrastructure",
          type: "session",
        },
      ],
    },
  },
  salesMarketing: {
    healthy: {
      label: "Healthy",
      message: "Congratulations! It appears that you have a good handle on your sales and marketing efforts for your business. However, markets change quickly, and it is important to remain abreast of those changes if you are to continue to grow and expand your business. Consumer purchasing patterns are more sophisticated than ever. In order to tap into the true buying mindset and remain ahead of market changes it is important to be able to read the minds of your customers and predict their next moves before they even know what they are. Large mega companies have been doing this for years. It's called data-mining and predictive analysis. Now you have access to the same data-mining capabilities.",
      resources: [
        {
          title: "Vision 20/20 Radio Podcast",
          description: "Subscribe to MarketAtomy's 'Vision 20/20' Radio Podcast to remain abreast of changes in your industry and receive helpful tips designed to assist with future growth",
          type: "podcast",
        },
        {
          title: "Customer Journey Mapping",
          description: "Sign up for our 'Customer Journey Mapping' Video Series",
          type: "video",
        },
        {
          title: "FREE Discovery Session",
          description: "Schedule a FREE Discovery session to mastermind what options are available for moving forward",
          type: "session",
        },
      ],
    },
    unhealthy: {
      label: "Needs Attention",
      message: "It appears that you are struggling with building a solid infrastructure for finding, attracting, converting and growing customers. It could be that your message is not being communicated clearly. It could be that you're not targeting the right audience or that you aren't able to gain their trust. There are many things that might be interfering with your ability to close the sale. Luckily for you we have several products and services that could help to uncover where the gaps are and how to turn them around.",
      resources: [
        {
          title: "FREE Discovery Session",
          description: "Schedule a FREE Discovery session to mastermind what options are available for moving forward",
          type: "session",
        },
        {
          title: "Customer Magnet Webinar",
          description: "Register for MarketAtomy's 5 stage Vision Clarification webinar series 'How to Become a Customer Magnet'",
          type: "webinar",
        },
        {
          title: "Market Analysis Tool",
          description: "Download MarketAtomy's Market Analysis planning tool",
          type: "download",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall marketing/sales strategy",
          type: "session",
        },
      ],
    },
    needsTweaking: {
      label: "Needs Tweaking",
      message: "Although you have had some success at building a brand in your market and driving sales through the door, it appears that your sales cycle may be lacking in its ability to grow advocates. Advocates ultimately become your outside sales force. They can become the BEST referral source or your WORST deterrent as you work to grow your company. The experience your customer's leave with will determine which side of the fence they're on. Taking a proactive approach to ensuring that your customer's experience is spectacular involves delving into their psyche and predicting their next moves before they even know what they are.",
      resources: [
        {
          title: "FREE Discovery Session",
          description: "Schedule a FREE Discovery session to mastermind what options are available for moving forward",
          type: "session",
        },
        {
          title: "Customer Journey Mapping",
          description: "Sign up for our 'Customer Journey Mapping' video series",
          type: "video",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall marketing/sales strategy",
          type: "session",
        },
        {
          title: "Marketing Gap Analysis Tool",
          description: "Download MarketAtomy's Marketing Gap Analysis Tool",
          type: "download",
        },
      ],
    },
  },
  productService: {
    healthy: {
      label: "Healthy",
      message: "Way to go! You have definitely got your finger on the pulse of what it is your customers want and need. Not only are you confident that you are tapped into your market, you are providing a service or product that they are willing to pay for. Our only suggestions at this point would be to remain abreast of changes in your core market and make sure that you have a plan to address those changes. Also, explore how you can add value to your existing lines to remain one step ahead of the competition.",
      resources: [
        {
          title: "S.W.O.T. Analysis Tool",
          description: "Download our S.W.O.T. Analysis planning tool",
          type: "download",
        },
        {
          title: "Competitive Analysis Tool",
          description: "Our Competitive Analysis planning tool can be downloaded here to help you remain abreast of how your benchmark against your competitors",
          type: "download",
        },
        {
          title: "FREE Discovery Session",
          description: "Sign up for a FREE one-hour mastermind Discovery Session",
          type: "session",
        },
      ],
    },
    unhealthy: {
      label: "Needs Attention",
      message: "It appears that there is much more research needed to determine where your product or service fits into the market and whether it is something that is needed. It may be that your messaging is unclear or that you are not tapping into the right market. It may be that the problem you are trying to solve is not substantial enough to warrant the customer's time and money to seek a solution. Either way, before you invest much more money and time it is imperative that you explore what issue you are trying to solve and whether it is truly something the market wants.",
      resources: [
        {
          title: "FREE Discovery Session",
          description: "Sign up for a FREE one-hour mastermind Discovery Session",
          type: "session",
        },
        {
          title: "Market Analysis Tool",
          description: "Download our Market Analysis planning tool",
          type: "download",
        },
        {
          title: "Customer Identification Tool",
          description: "Download our Customer Identification planning tool",
          type: "download",
        },
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall product/service portfolio",
          type: "session",
        },
      ],
    },
    needsTweaking: {
      label: "Needs Tweaking",
      message: "Obviously you're on to something here. Your product or service is needed in the marketplace, but for some reason sales are not happening as quickly or robustly as you would like. You may think that it is all due to marketing, but 9 times out of 10 it is a combination of several different gaps that are not being met within your overall business infrastructure. We suggest that the best possible solution is to take a step back and explore who and why your product is or is not selling. It might be that the anticipated value is not what is expected, or that the success of your solution working is dependent on another solution happening first. There are so many possible reasons that to narrow in on just one may hurt more than help in the long run. It's time to re-examine the overall business model and try to pinpoint where the gaps are.",
      resources: [
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall product/service portfolio",
          type: "session",
        },
        {
          title: "Demand Analysis Worksheet",
          description: "Download MarketAtomy's Demand Analysis Worksheet",
          type: "download",
        },
        {
          title: "Sherloc Analysis",
          description: "Sign up for our Sherloc Analysis to gain a better understanding of what your customers want",
          type: "analysis",
        },
      ],
    },
  },
  general: {
    healthy: {
      label: "Healthy",
      message: "Congratulations! It appears that you have a healthy handle on your overall work/life balance at this stage. You have a healthy routine for your personal and family life. In addition you have a healthy outlook on where your company is going. As a business owner it is easy to get caught up in the daily grind of running a business that we can let your family and health fall to the wayside while working IN the business. Keep up the good work.",
      resources: [
        {
          title: "Tip of the Week",
          description: "Subscribe to MarketAtomy's 'Tip of the Week' to remain abreast of ways to keep your work/life balance in check",
          type: "newsletter",
        },
      ],
    },
    unhealthy: {
      label: "Needs Attention",
      message: "Work/life balance is extremely important to an entrepreneur, especially when first starting out. With so many challenges and unknowns it's easy to fall into the trap of OPA – Overwhelm, Paralysis and Avoidance. If there is one piece of advice we can offer it is to not go through this alone. Having a coach or mentor to talk to and work through problem areas is critical to piece of mind and a successful business. Another reason you may be struggling with an unhealthy work/life balance is that you are unclear on what to do next or how tp break free of OPA.",
      resources: [
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall work/life balance",
          type: "session",
        },
        {
          title: "Vision Clarification Webinar",
          description: "Register for MarketAtomy's 5 stage Vision Clarification webinar series",
          type: "webinar",
        },
        {
          title: "OPA Coaching Session",
          description: "Register for FREE 30-minute coaching session designed to identify symptoms of OPA",
          type: "session",
        },
      ],
    },
    needsTweaking: {
      label: "Needs Tweaking",
      message: "While it appears that you have made attempts to incorporate a healthy work/life balance into your business, there are areas that could upset the apple cart down the road. The only way to maintain a healthy overall outlook is to know what may be lying ahead that could interrupt your forward growth. Keeping an eye on opportunities and threats within the market as well as changes within your competitive environment are important for overall business health. Building a strategy to capitalize on changes will go a long way in avoiding potential interruptions.",
      resources: [
        {
          title: "Assessment Debrief",
          description: "Schedule an Assessment Debrief with one of our Coaches to explore how to strengthen your overall work/life balance",
          type: "session",
        },
        {
          title: "S.W.O.T. Analysis Tool",
          description: "Download MarketAtomy's S.W.O.T. Analysis tool to conduct an analysis of opportunities and threats within the market",
          type: "download",
        },
        {
          title: "Environment Analysis Worksheet",
          description: "Download MarketAtomy's Environment Analysis Worksheet",
          type: "download",
        },
      ],
    },
  },
};

/**
 * Get report content for a category and health level
 * @param {string} categoryKey - Category key
 * @param {string} healthLevel - Health level ('low', 'medium', 'high')
 * @returns {object} Report content object
 */
export function getCategoryReport(categoryKey, healthLevel) {
  // Map health levels to report keys
  const levelMap = {
    low: 'unhealthy',
    medium: 'needsTweaking',
    high: 'healthy',
  };

  const reportKey = levelMap[healthLevel] || 'needsTweaking';
  const category = REPORT_CONTENT[categoryKey];

  if (!category) {
    return {
      label: 'Unknown',
      message: 'Report content not available for this category.',
      resources: [],
    };
  }

  return category[reportKey] || category.needsTweaking;
}

/**
 * Generate action items based on health levels
 * @param {object} enhancedScores - Processed scores with analytics
 * @returns {array} Array of action items
 */
export function generateActionItems(enhancedScores) {
  if (!enhancedScores) return [];

  const actionItems = [];
  const categoryKeys = Object.keys(enhancedScores).filter(
    (key) => key !== 'overallHealth'
  );

  categoryKeys.forEach((key) => {
    const analytics = enhancedScores[key];
    if (analytics && analytics.healthLevel === 'low') {
      const report = getCategoryReport(key, 'low');
      actionItems.push({
        category: key,
        categoryLabel: analytics.healthLabel?.label || key,
        priority: 'high',
        message: report.message,
        resources: report.resources.slice(0, 2), // Top 2 resources
      });
    }
  });

  return actionItems;
}

/**
 * Get recommended resources based on all health levels
 * @param {object} enhancedScores - Processed scores with analytics
 * @returns {array} Array of unique resources
 */
export function getRecommendedResources(enhancedScores) {
  if (!enhancedScores) return [];

  const resourcesMap = new Map();
  const categoryKeys = Object.keys(enhancedScores).filter(
    (key) => key !== 'overallHealth'
  );

  categoryKeys.forEach((key) => {
    const analytics = enhancedScores[key];
    if (analytics) {
      const report = getCategoryReport(key, analytics.healthLevel);
      report.resources.forEach((resource) => {
        // Use title as key to avoid duplicates
        if (!resourcesMap.has(resource.title)) {
          resourcesMap.set(resource.title, resource);
        }
      });
    }
  });

  return Array.from(resourcesMap.values());
}

